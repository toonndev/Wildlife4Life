<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chatbot ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡πÑ‡∏ó‡∏¢</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="/styles/styles.css" />
    <link rel="stylesheet" href="/style/silder.css" />
    <link rel="stylesheet" href="/styles/flat.css" />
    <link rel="stylesheet" href="/styles/chat-bot.css" />
  </head>
  <body>
    <div w3-include-html="components/navbar.html"></div>
    <div class="main-containers">
      <div class="chat-container">
        <div class="chat-header">
          <div class="status-indicator"></div>
          <h1>Chatbot ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡πÑ‡∏ó‡∏¢</h1>
        </div>

        <div class="mode-selector">
          <button class="mode-btn active" data-mode="info">
            üìñ ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå
          </button>
          <button class="mode-btn" data-mode="check">
            üîç ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô
          </button>
        </div>

        <div class="chat-messages" id="chatMessages">
          <div class="message bot-message">
            <div class="message-content">
              ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ü¶å ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡πÑ‡∏ó‡∏¢<br />
              <strong>üìñ ‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå</strong><br />
              ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏´‡∏≤‡∏¢‡∏≤‡∏Å‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö
              <div class="suggestions">
                <div class="suggestion-chip" onclick="sendSuggestion('‡∏•‡∏∞‡∏≠‡∏á')">
                  ‡∏•‡∏∞‡∏≠‡∏á
                </div>
                <div
                  class="suggestion-chip"
                  onclick="sendSuggestion('‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡πà‡∏á')"
                >
                  ‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡πà‡∏á
                </div>
                <div class="suggestion-chip" onclick="sendSuggestion('‡πÅ‡∏£‡∏î')">
                  ‡πÅ‡∏£‡∏î
                </div>
                <div
                  class="suggestion-chip"
                  onclick="sendSuggestion('‡∏ä‡πâ‡∏≤‡∏á‡∏õ‡πà‡∏≤')"
                >
                  ‡∏ä‡πâ‡∏≤‡∏á‡∏õ‡πà‡∏≤
                </div>
                <div class="suggestion-chip" onclick="sendSuggestion('‡πÄ‡∏Å‡πâ‡∏á')">
                  ‡πÄ‡∏Å‡πâ‡∏á
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="typing-indicator" id="typingIndicator">
          ü§ñ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•<span class="typing-dot">.</span
          ><span class="typing-dot">.</span><span class="typing-dot">.</span>
        </div>

        <div class="chat-input-container">
          <div class="input-group">
            <input
              type="text"
              id="chatInput"
              class="chat-input"
              placeholder="‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏•‡∏∞‡∏≠‡∏á, ‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡πà‡∏á, ‡πÅ‡∏£‡∏î..."
            />
            <button id="sendButton" class="send-button">‡∏™‡πà‡∏á</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
      let currentMode = "info";

      // ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô
      const animalDatabase = {
        ‡∏•‡∏∞‡∏≠‡∏á: {
          name: "‡∏•‡∏∞‡∏≠‡∏á (‡∏•‡∏∞‡∏°‡∏±‡πà‡∏á)",
          scientificName: "Capricornis sumatraensis",
          image:
            "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Panolia_eldii_thamin.jpg/1280px-Panolia_eldii_thamin.jpg",
          habitat:
            "‡∏õ‡πà‡∏≤‡πÄ‡∏Ç‡∏ï‡∏£‡πâ‡∏≠‡∏ô‡∏ä‡∏∑‡πâ‡∏ô ‡∏õ‡πà‡∏≤‡∏î‡∏¥‡∏ö‡πÄ‡∏Ç‡∏≤ ‡πÅ‡∏•‡∏∞‡∏õ‡πà‡∏≤‡πÄ‡∏ö‡∏ç‡∏à‡∏û‡∏£‡∏£‡∏ì ‡πÉ‡∏ô‡πÄ‡∏Ç‡∏ï‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢",
          characteristics:
            "‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏Å‡∏µ‡∏ö‡πÄ‡∏ó‡πâ‡∏≤‡∏Ñ‡∏π‡πà‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏•‡∏≤‡∏á ‡∏°‡∏µ‡∏Ç‡∏ô‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÄ‡∏Ç‡πâ‡∏°‡∏ñ‡∏∂‡∏á‡∏î‡∏≥ ‡∏°‡∏µ‡πÄ‡∏Ç‡∏≤‡∏™‡∏±‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏´‡∏•‡∏° ‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏Å‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏°‡∏µ‡∏¢ ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 50-140 ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°",
          behavior:
            "‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≤‡∏°‡πÑ‡∏´‡∏•‡πà‡πÄ‡∏Ç‡∏≤‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏ú‡∏≤ ‡∏°‡∏µ‡∏ô‡∏¥‡∏™‡∏±‡∏¢‡πÄ‡∏Ç‡∏µ‡πâ‡∏¢‡∏ß‡∏Ç‡∏≤‡∏î ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏µ‡∏ô‡πÄ‡∏Ç‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡πà‡∏á ‡∏Å‡∏¥‡∏ô‡∏û‡∏∑‡∏ä‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£",
          conservation:
            "‡∏™‡∏ñ‡∏≤‡∏ô‡∏†‡∏≤‡∏û: ‡πÉ‡∏Å‡∏•‡πâ‡∏™‡∏π‡∏ç‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå (Near Threatened) ‡∏ï‡∏≤‡∏°‡πÄ‡∏Å‡∏ì‡∏ë‡πå IUCN ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏•‡∏î‡∏•‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏ñ‡∏¥‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏≠‡∏≤‡∏®‡∏±‡∏¢",
          distribution:
            "‡∏û‡∏ö‡πÉ‡∏ô‡πÄ‡∏ó‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ç‡∏≤‡∏ï‡∏∞‡∏ô‡∏≤‡∏ß‡∏®‡∏£‡∏µ ‡πÄ‡∏Ç‡∏ï‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏´‡πâ‡∏ß‡∏¢‡∏Ç‡∏≤‡πÅ‡∏Ç‡πâ‡∏á ‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÉ‡∏ô‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å",
        },
        ‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡πà‡∏á: {
          name: "‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡πà‡∏á",
          scientificName: "Panthera tigris",
          image:
            "https://images.unsplash.com/photo-1500463959177-e0869687df26?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
          habitat:
            "‡∏õ‡πà‡∏≤‡∏î‡∏¥‡∏ö‡πÅ‡∏•‡πâ‡∏á ‡∏õ‡πà‡∏≤‡πÄ‡∏ö‡∏ç‡∏à‡∏û‡∏£‡∏£‡∏ì ‡πÅ‡∏•‡∏∞‡∏õ‡πà‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á ‡πÉ‡∏ô‡πÄ‡∏Ç‡∏ï‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥",
          characteristics:
            "‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏•‡∏π‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà ‡∏°‡∏µ‡∏•‡∏≤‡∏¢‡∏î‡∏≥‡∏ö‡∏ô‡∏Ç‡∏ô‡∏™‡∏µ‡∏™‡πâ‡∏° ‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ñ‡∏∂‡∏á 300 ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏° ‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏Å‡∏•‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á‡∏°‡∏≤‡∏Å",
          behavior:
            "‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß ‡∏≠‡∏≠‡∏Å‡∏´‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å ‡∏ä‡∏≠‡∏ö‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡∏∞‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡∏°‡∏µ‡∏≠‡∏≤‡∏ì‡∏≤‡πÄ‡∏Ç‡∏ï‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏ç‡πà",
          conservation:
            "‡∏™‡∏ñ‡∏≤‡∏ô‡∏†‡∏≤‡∏û: ‡∏™‡∏π‡∏ç‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÉ‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô (Locally Extinct) ‡πÉ‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡πà‡∏á‡∏õ‡πà‡∏≤‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏™‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ñ‡∏π‡∏Å‡∏û‡∏ö‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏µ 2013",
          distribution:
            "‡πÄ‡∏Ñ‡∏¢‡∏û‡∏ö‡πÉ‡∏ô‡∏õ‡πà‡∏≤‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ô‡πÉ‡∏ï‡πâ‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢ ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏™‡∏π‡∏ç‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÅ‡∏•‡πâ‡∏ß ‡∏°‡∏µ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡πà‡∏á‡πÉ‡∏ô‡∏™‡∏ß‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô",
        },
        ‡πÅ‡∏£‡∏î: {
          name: "‡πÅ‡∏£‡∏î‡∏™‡∏∏‡∏°‡∏≤‡∏ï‡∏£‡∏≤",
          scientificName: "Dicerorhinus sumatrensis",
          image:
            "https://khaokheow.zoothailand.org/zoo_office/fileupload/encyclopedia_file/24.JPG",
          habitat:
            "‡∏õ‡πà‡∏≤‡∏î‡∏¥‡∏ö‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡πÄ‡∏Ç‡∏ï‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢ ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏¢‡∏∞‡∏•‡∏≤ ‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™ ‡πÅ‡∏•‡∏∞‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ",
          characteristics:
            "‡πÅ‡∏£‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å ‡∏°‡∏µ‡∏Ç‡∏ô‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÅ‡∏î‡∏á ‡∏°‡∏µ‡∏ô‡∏≠‡∏™‡∏≠‡∏á‡∏≠‡∏±‡∏ô ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 500-1000 ‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏° ‡∏°‡∏µ‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏´‡∏¢‡∏≤‡∏ö‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏£‡∏≠‡∏¢‡∏¢‡πà‡∏ô",
          behavior:
            "‡∏ä‡∏≠‡∏ö‡∏≠‡∏≤‡∏ö‡πÇ‡∏Ñ‡∏•‡∏ô‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥ ‡∏Å‡∏¥‡∏ô‡∏û‡∏∑‡∏ä‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß ‡∏°‡∏µ‡∏ô‡∏¥‡∏™‡∏±‡∏¢‡πÄ‡∏Ç‡∏µ‡πâ‡∏¢‡∏ß‡∏Ç‡∏≤‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏∏‡∏Å‡∏Ñ‡∏≤‡∏°",
          conservation:
            "‡∏™‡∏ñ‡∏≤‡∏ô‡∏†‡∏≤‡∏û: ‡∏™‡∏π‡∏ç‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÉ‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô (Locally Extinct) ‡πÅ‡∏£‡∏î‡∏™‡∏∏‡∏°‡∏≤‡∏ï‡∏£‡∏≤‡∏ï‡∏±‡∏ß‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢‡∏ï‡∏≤‡∏¢‡πÑ‡∏õ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏µ 2019",
          distribution:
            "‡πÄ‡∏Ñ‡∏¢‡∏û‡∏ö‡πÉ‡∏ô‡∏õ‡πà‡∏≤‡πÉ‡∏ï‡πâ‡∏Ç‡∏≠‡∏á‡πÑ‡∏ó‡∏¢ ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡∏ö‡∏π‡πÇ‡∏î‡πÅ‡∏•‡∏∞‡∏ö‡∏≤‡πÄ‡∏•‡πà ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏™‡∏π‡∏ç‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢",
        },
        ‡∏ä‡πâ‡∏≤‡∏á‡∏õ‡πà‡∏≤: {
          name: "‡∏ä‡πâ‡∏≤‡∏á‡∏õ‡πà‡∏≤‡πÄ‡∏≠‡πÄ‡∏ä‡∏µ‡∏¢",
          scientificName: "Elephas maximus",
          image:
            "https://plus.unsplash.com/premium_photo-1661902239020-aeb5b51c8d33?q=80&w=1474&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
          habitat:
            "‡∏õ‡πà‡∏≤‡∏î‡∏¥‡∏ö‡πÅ‡∏•‡πâ‡∏á ‡∏õ‡πà‡∏≤‡πÄ‡∏ö‡∏ç‡∏à‡∏û‡∏£‡∏£‡∏ì ‡πÅ‡∏•‡∏∞‡∏õ‡πà‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á ‡πÉ‡∏ô‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡∏ï‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®",
          characteristics:
            "‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏•‡∏π‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ö‡∏ô‡∏ö‡∏Å ‡∏°‡∏µ‡∏á‡∏ß‡∏á‡∏¢‡∏≤‡∏ß ‡∏´‡∏π‡πÉ‡∏´‡∏ç‡πà ‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡∏ö‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏°‡∏µ‡∏á‡∏≤‡∏ä‡πâ‡∏≤‡∏á ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÑ‡∏î‡πâ‡∏ñ‡∏∂‡∏á 5 ‡∏ï‡∏±‡∏ô",
          behavior:
            "‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ù‡∏π‡∏á ‡∏ô‡∏≥‡πÇ‡∏î‡∏¢‡πÅ‡∏°‡πà‡∏ä‡πâ‡∏≤‡∏á‡πÅ‡∏Å‡πà ‡∏Å‡∏¥‡∏ô‡∏û‡∏∑‡∏ä‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏°‡∏≤‡∏Å ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏´‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤",
          conservation:
            "‡∏™‡∏ñ‡∏≤‡∏ô‡∏†‡∏≤‡∏û: ‡πÉ‡∏Å‡∏•‡πâ‡∏™‡∏π‡∏ç‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå (Endangered) ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 3,000-4,000 ‡∏ï‡∏±‡∏ß‡πÉ‡∏ô‡∏õ‡πà‡∏≤‡πÑ‡∏ó‡∏¢ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ö‡∏∏‡∏Å‡∏£‡∏∏‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô",
          distribution:
            "‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÄ‡∏Ç‡∏≤‡πÉ‡∏´‡∏ç‡πà ‡∏Ñ‡∏ß‡∏≤‡∏¢‡∏õ‡πà‡∏≤ ‡∏Å‡∏∏‡∏¢‡∏ö‡∏∏‡∏£‡∏µ ‡∏ú‡∏≤‡πÅ‡∏ï‡πâ‡∏° ‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡∏ï‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®",
        },
        ‡πÄ‡∏Å‡πâ‡∏á: {
          name: "‡πÄ‡∏Å‡πâ‡∏á",
          scientificName: "Muntiacus muntjak",
          image:
            "https://images.unsplash.com/photo-1542997830-49fc838e4c61?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
          habitat:
            "‡∏õ‡πà‡∏≤‡∏î‡∏¥‡∏ö‡πÅ‡∏•‡πâ‡∏á ‡∏õ‡πà‡∏≤‡πÄ‡∏ö‡∏ç‡∏à‡∏û‡∏£‡∏£‡∏ì ‡∏õ‡πà‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á ‡πÅ‡∏•‡∏∞‡∏õ‡πà‡∏≤‡πÑ‡∏ú‡πà‡πÉ‡∏ô‡πÄ‡∏Ç‡∏ï‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®",
          characteristics:
            "‡∏Å‡∏ß‡∏≤‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å ‡∏™‡∏π‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 50 ‡∏ã‡∏°. ‡∏°‡∏µ‡∏Ç‡∏ô‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÅ‡∏î‡∏á ‡∏ï‡∏±‡∏ß‡∏ú‡∏π‡πâ‡∏°‡∏µ‡πÄ‡∏Ç‡∏≤‡πÄ‡∏•‡πá‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡∏µ‡πâ‡∏¢‡∏ß‡∏¢‡∏∑‡πà‡∏ô‡∏≠‡∏≠‡∏Å‡∏°‡∏≤ ‡∏°‡∏µ‡∏ï‡πà‡∏≠‡∏°‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÉ‡∏ï‡πâ‡∏ï‡∏≤",
          behavior:
            "‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß ‡∏≠‡∏≠‡∏Å‡∏´‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏¢‡πá‡∏ô ‡∏Å‡∏¥‡∏ô‡πÉ‡∏ö‡πÑ‡∏°‡πâ ‡∏ú‡∏•‡πÑ‡∏°‡πâ ‡πÅ‡∏•‡∏∞‡∏¢‡∏≠‡∏î‡∏≠‡πà‡∏≠‡∏ô ‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ó‡∏µ‡πà‡∏î‡∏±‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞",
          conservation:
            "‡∏™‡∏ñ‡∏≤‡∏ô‡∏†‡∏≤‡∏û: ‡πÑ‡∏°‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏™‡∏π‡∏ç‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå (Least Concern) ‡πÅ‡∏ï‡πà‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏•‡∏î‡∏•‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏õ‡πà‡∏≤",
          distribution:
            "‡∏û‡∏ö‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÉ‡∏ô‡∏õ‡πà‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡πÄ‡∏ä‡πà‡∏ô ‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÄ‡∏Ç‡∏≤‡πÉ‡∏´‡∏ç‡πà ‡∏î‡∏≠‡∏¢‡∏≠‡∏¥‡∏ô‡∏ó‡∏ô‡∏ô‡∏ó‡πå ‡πÅ‡∏•‡∏∞‡∏õ‡πà‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ",
        },
      };

      // ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
      function searchAnimal(query) {
        const lowerQuery = query.toLowerCase().trim();

        // ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ö‡∏ö‡∏ï‡∏£‡∏á‡πÄ‡∏õ‡πä‡∏∞
        for (let key in animalDatabase) {
          if (
            key.toLowerCase() === lowerQuery ||
            animalDatabase[key].name.toLowerCase().includes(lowerQuery) ||
            animalDatabase[key].scientificName
              .toLowerCase()
              .includes(lowerQuery)
          ) {
            return animalDatabase[key];
          }
        }

        // ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ö‡∏ö‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á
        for (let key in animalDatabase) {
          if (
            key.toLowerCase().includes(lowerQuery) ||
            animalDatabase[key].name.toLowerCase().includes(lowerQuery)
          ) {
            return animalDatabase[key];
          }
        }

        return null;
      }

      // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡∏ú‡πà‡∏≤‡∏ô API
      function checkWildlifeAPI(query) {
        const data = {
          resource_id: "82b97236-fc9b-41e6-8e39-0775e0277c32",
          limit: 10,
          q: query,
        };

        // ‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API
        return new Promise((resolve, reject) => {
          // ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ JSONP ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°
          $.ajax({
            url: "https://catalog.dnp.go.th/api/3/action/datastore_search",
            data: data,
            dataType: "jsonp",
            timeout: 15000,
            jsonpCallback: "callback" + Date.now(), // ‡∏™‡∏£‡πâ‡∏≤‡∏á callback name ‡∏ó‡∏µ‡πà unique
            success: function (response) {
              console.log("JSONP Success:", response);
              resolve(response);
            },
            error: function (xhr, status, error) {
              console.log("JSONP Failed, trying fetch method...", error);

              // ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ fetch ‡πÅ‡∏ö‡∏ö no-cors
              const queryString = new URLSearchParams(data).toString();
              const fetchUrl = `https://catalog.dnp.go.th/api/3/action/datastore_search?${queryString}`;

              fetch(fetchUrl, {
                method: "GET",
                mode: "no-cors", // bypass CORS
                headers: {
                  Accept: "application/json",
                  "Content-Type": "application/json",
                },
              })
                .then((response) => {
                  console.log("Fetch response:", response);
                  if (response.type === "opaque") {
                    // ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡πà‡∏≤‡∏ô response ‡πÑ‡∏î‡πâ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å no-cors
                    // ‡∏™‡∏£‡πâ‡∏≤‡∏á mock response ‡∏ï‡∏≤‡∏° format ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ
                    return createMockResponse(query);
                  }
                  return response.json();
                })
                .then((data) => {
                  console.log("Fetch Success:", data);
                  resolve(data);
                })
                .catch((fetchError) => {
                  console.log(
                    "Fetch also failed, using mock data:",
                    fetchError
                  );
                  // ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• mock ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö demo
                  resolve(createMockResponse(query));
                });
            },
          });
        });
      }

      // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• mock ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö
      function createMockResponse(query) {
        const mockData = {
          ‡πÅ‡∏£‡∏î: {
            success: true,
            result: {
              total: 1,
              records: [
                {
                  _id: 8,
                  ‡∏•‡∏≥‡∏î‡∏±‡∏ö: 8,
                  ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢: "‡πÅ‡∏£‡∏î",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå: "Rhinoceros sondaicus",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏°‡∏±‡∏ç: "Javan Rhinoceros",
                  ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: null,
                  rank: 0.057308756,
                },
              ],
            },
          },
          ‡πÄ‡∏™‡∏∑‡∏≠: {
            success: true,
            result: {
              total: 2,
              records: [
                {
                  _id: 15,
                  ‡∏•‡∏≥‡∏î‡∏±‡∏ö: 15,
                  ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢: "‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡πà‡∏á",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå: "Panthera tigris",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏°‡∏±‡∏ç: "Tiger",
                  ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: null,
                  rank: 0.089234567,
                },
                {
                  _id: 16,
                  ‡∏•‡∏≥‡∏î‡∏±‡∏ö: 16,
                  ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢: "‡πÄ‡∏™‡∏∑‡∏≠‡∏î‡∏≤‡∏ß",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå: "Panthera pardus",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏°‡∏±‡∏ç: "Leopard",
                  ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: null,
                  rank: 0.07654321,
                },
              ],
            },
          },
          ‡∏ä‡πâ‡∏≤‡∏á: {
            success: true,
            result: {
              total: 1,
              records: [
                {
                  _id: 3,
                  ‡∏•‡∏≥‡∏î‡∏±‡∏ö: 3,
                  ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢: "‡∏ä‡πâ‡∏≤‡∏á",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå: "Elephas maximus",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏°‡∏±‡∏ç: "Asian Elephant",
                  ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: "‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ä‡∏≤‡∏ï‡∏¥‡πÑ‡∏ó‡∏¢",
                  rank: 0.0954321,
                },
              ],
            },
          },
          ‡∏Å‡∏ö: {
            success: true,
            result: {
              total: 3,
              records: [
                {
                  _id: 45,
                  ‡∏•‡∏≥‡∏î‡∏±‡∏ö: 45,
                  ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢: "‡∏Å‡∏ö‡πÅ‡∏™‡∏á",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå: "Leptobrachium chapaense",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏°‡∏±‡∏ç: "Chapa Bug-eyed Frog",
                  ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: null,
                  rank: 0.0654321,
                },
                {
                  _id: 46,
                  ‡∏•‡∏≥‡∏î‡∏±‡∏ö: 46,
                  ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢: "‡∏Å‡∏ö‡∏õ‡πà‡∏≤",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå: "Rana temporaria",
                  ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏°‡∏±‡∏ç: "Common Frog",
                  ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: null,
                  rank: 0.054321009,
                },
              ],
            },
          },
        };

        const lowerQuery = query.toLowerCase().trim();

        // ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• mock ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
        for (let key in mockData) {
          if (key.includes(lowerQuery) || lowerQuery.includes(key)) {
            console.log(`Using mock data for: ${query}`);
            return mockData[key];
          }
        }

        // ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• mock
        return {
          success: true,
          result: {
            total: 0,
            records: [],
          },
        };
      }

      // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå
      function displayAnimalInfo(animal) {
        return `
                <div class="animal-info">
                    <div class="animal-name">${animal.name}</div>
                    <img src="${animal.image}" alt="${animal.name}" class="animal-image">

                    <div class="info-section">
                        <div class="info-label">üî¨ ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå:</div>
                        <div class="info-text">${animal.scientificName}</div>
                    </div>

                    <div class="info-section">
                        <div class="info-label">üèûÔ∏è ‡∏ñ‡∏¥‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏≠‡∏≤‡∏®‡∏±‡∏¢:</div>
                        <div class="info-text">${animal.habitat}</div>
                    </div>

                    <div class="info-section">
                        <div class="info-label">üìù ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ:</div>
                        <div class="info-text">${animal.characteristics}</div>
                    </div>

                    <div class="info-section">
                        <div class="info-label">üêæ ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°:</div>
                        <div class="info-text">${animal.behavior}</div>
                    </div>

                    <div class="info-section">
                        <div class="info-label">‚ö†Ô∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏£‡∏±‡∏Å‡∏©‡πå:</div>
                        <div class="info-text">${animal.conservation}</div>
                    </div>

                    <div class="info-section">
                        <div class="info-label">üìç ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå:</div>
                        <div class="info-text">${animal.distribution}</div>
                    </div>
                </div>
            `;
      }

      // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å API
      function displayAPIResult(data, query) {
        if (data.result.total > 0) {
          let resultHTML = `
                    <div class="api-result">
                        <div class="animal-name">‚úÖ ‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô</div>
                        <div class="info-section">
                            <div class="info-label">üîç ‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:</div>
                            <div class="info-text">${query}</div>
                        </div>
                        <div class="info-section">
                            <div class="info-label">üìä ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏û‡∏ö:</div>
                            <div class="info-text">${data.result.total} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
                        </div>
                `;

          // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á 5 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏£‡∏Å
          if (data.result.records && data.result.records.length > 0) {
            resultHTML += `
                        <div class="info-section">
                            <div class="info-label">üìù ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏ö:</div>
                    `;

            data.result.records.slice(0, 5).forEach((record, index) => {
              resultHTML += `
                            <div class="info-text" style="margin-bottom: 10px; padding: 12px; background: rgba(40, 167, 69, 0.1); border-radius: 8px; border-left: 3px solid #28a745;">
                                <div style="font-weight: bold; color: #28a745; margin-bottom: 4px;">
                                    ${index + 1}. ${
                record["‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢"] || "‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢"
              }
                                </div>
                                ${
                                  record["‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå"]
                                    ? `
                                    <div style="color: #6c757d; font-style: italic; margin-bottom: 2px;">
                                        üî¨ ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå: ${record["‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå"]}
                                    </div>
                                `
                                    : ""
                                }
                                ${
                                  record["‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏°‡∏±‡∏ç"]
                                    ? `
                                    <div style="color: #6c757d; margin-bottom: 2px;">
                                        üåç ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏°‡∏±‡∏ç: ${record["‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏°‡∏±‡∏ç"]}
                                    </div>
                                `
                                    : ""
                                }
                                ${
                                  record["‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏"] &&
                                  record["‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏"].trim()
                                    ? `
                                    <div style="color: #6c757d; font-size: 0.9em;">
                                        üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ${record["‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏"]}
                                    </div>
                                `
                                    : ""
                                }
                                <div style="color: #6c757d; font-size: 0.8em; margin-top: 4px;">
                                    üìã ‡∏£‡∏´‡∏±‡∏™‡∏•‡∏≥‡∏î‡∏±‡∏ö: ${
                                      record["‡∏•‡∏≥‡∏î‡∏±‡∏ö"]
                                    } | üéØ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥: ${(
                record.rank * 100
              ).toFixed(1)}%
                                </div>
                            </div>
                        `;
            });

            resultHTML += `</div>`;

            // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 5 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
            if (data.result.total > 5) {
              resultHTML += `
                            <div class="info-section">
                                <div class="info-text" style="text-align: center; color: #6c757d; font-style: italic;">
                                    ... ‡πÅ‡∏•‡∏∞‡∏≠‡∏µ‡∏Å ${data.result.total - 5} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
                                </div>
                            </div>
                        `;
            }
          }

          resultHTML += `
                        <div class="info-section">
                            <div class="info-label">üåø ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:</div>
                            <div class="info-text" style="background: rgba(40, 167, 69, 0.2); padding: 10px; border-radius: 8px; border-left: 4px solid #28a745;">
                                <strong style="color: #28a745;">‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô: ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢</strong><br>
                                <small style="color: #6c757d;">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ ‡∏Å‡∏£‡∏°‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥ ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤ ‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏û‡∏∑‡∏ä</small>
                            </div>
                        </div>
                    </div>
                `;

          return resultHTML;
        } else {
          return `
                    <div class="api-result not-found">
                        <div class="animal-name">‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô</div>
                        <div class="info-section">
                            <div class="info-label">üîç ‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:</div>
                            <div class="info-text">${query}</div>
                        </div>
                        <div class="info-section">
                            <div class="info-label">üìä ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:</div>
                            <div class="info-text">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</div>
                        </div>
                        <div class="info-section">
                            <div class="info-label">üåø ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:</div>
                            <div class="info-text" style="background: rgba(220, 53, 69, 0.2); padding: 10px; border-radius: 8px; border-left: 4px solid #dc3545;">
                                <strong style="color: #dc3545;">‚ùå ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£</strong><br>
                                <small style="color: #6c757d;">‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏∞‡∏Å‡∏î‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</small>
                            </div>
                        </div>
                        <div class="info-section">
                            <div class="info-label">üí° ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</div>
                            <div class="info-text">
                                ‚Ä¢ ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á<br>
                                ‚Ä¢ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∞‡∏Å‡∏î‡∏Ñ‡∏≥‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á<br>
                                ‚Ä¢ ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏ó‡∏ô<br>
                                ‚Ä¢ ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô
                            </div>
                        </div>
                        <div class="suggestions">
                            <div class="suggestion-chip" onclick="sendSuggestion('‡πÅ‡∏£‡∏î')">‡πÅ‡∏£‡∏î</div>
                            <div class="suggestion-chip" onclick="sendSuggestion('‡∏ä‡πâ‡∏≤‡∏á')">‡∏ä‡πâ‡∏≤‡∏á</div>
                            <div class="suggestion-chip" onclick="sendSuggestion('‡πÄ‡∏™‡∏∑‡∏≠')">‡πÄ‡∏™‡∏∑‡∏≠</div>
                            <div class="suggestion-chip" onclick="sendSuggestion('‡∏Å‡∏ö')">‡∏Å‡∏ö</div>
                        </div>
                    </div>
                `;
        }
      }

      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡πÅ‡∏ä‡∏ó
      function addMessage(content, isUser = false) {
        const messagesContainer = document.getElementById("chatMessages");
        const messageDiv = document.createElement("div");
        messageDiv.className = `message ${
          isUser ? "user-message" : "bot-message"
        }`;

        messageDiv.innerHTML = `<div class="message-content">${content}</div>`;
        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }

      // ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå
      function showTypingIndicator() {
        document.getElementById("typingIndicator").style.display = "block";
        const chatMessages = document.getElementById("chatMessages");
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }

      // ‡∏ã‡πà‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå
      function hideTypingIndicator() {
        document.getElementById("typingIndicator").style.display = "none";
      }

      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° placeholder ‡∏ï‡∏≤‡∏°‡πÇ‡∏´‡∏°‡∏î
      function updatePlaceholder() {
        const input = document.getElementById("chatInput");
        if (currentMode === "info") {
          input.placeholder =
            "‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏•‡∏∞‡∏≠‡∏á, ‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡πà‡∏á, ‡πÅ‡∏£‡∏î...";
        } else {
          input.placeholder =
            "‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡πÑ‡∏´‡∏° ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏ö, ‡∏´‡∏¥‡∏ô, ‡πÅ‡∏£‡∏î...";
        }
      }

      // ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
      function processMessage(message) {
        if (currentMode === "info") {
          // ‡πÇ‡∏´‡∏°‡∏î‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå
          const animal = searchAnimal(message);

          if (animal) {
            return displayAnimalInfo(animal);
          } else {
            const responses = [
              `‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö "${message}" ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô<br><br>‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏î‡∏π‡∏Ñ‡∏£‡∏±‡∏ö:`,
              `‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö "${message}" ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö<br><br>‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö:`,
              `‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• "${message}" ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö<br><br>‡∏•‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÅ‡∏ó‡∏ô:`,
            ];

            const randomResponse =
              responses[Math.floor(Math.random() * responses.length)];

            return `${randomResponse}
                        <div class="suggestions">
                            <div class="suggestion-chip" onclick="sendSuggestion('‡∏•‡∏∞‡∏≠‡∏á')">‡∏•‡∏∞‡∏≠‡∏á</div>
                            <div class="suggestion-chip" onclick="sendSuggestion('‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡πà‡∏á')">‡πÄ‡∏™‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏£‡πà‡∏á</div>
                            <div class="suggestion-chip" onclick="sendSuggestion('‡πÅ‡∏£‡∏î')">‡πÅ‡∏£‡∏î‡∏™‡∏∏‡∏°‡∏≤‡∏ï‡∏£‡∏≤</div>
                            <div class="suggestion-chip" onclick="sendSuggestion('‡∏ä‡πâ‡∏≤‡∏á‡∏õ‡πà‡∏≤')">‡∏ä‡πâ‡∏≤‡∏á‡∏õ‡πà‡∏≤</div>
                            <div class="suggestion-chip" onclick="sendSuggestion('‡πÄ‡∏Å‡πâ‡∏á')">‡πÄ‡∏Å‡πâ‡∏á</div>
                        </div>
                        <br><em>üí° ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏°‡∏î "‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</em>`;
          }
        } else {
          // ‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡∏ú‡πà‡∏≤‡∏ô API - return Promise
          return new Promise((resolve) => {
            addMessage(
              `<div class="loading-spinner"></div>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏£‡∏°‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥...`
            );

            checkWildlifeAPI(message)
              .then(function (data) {
                console.log("API Response received:", data);
                resolve(displayAPIResult(data, message));
              })
              .catch(function (error) {
                console.error("API Error:", error);
                resolve(`
                                <div class="api-result not-found">
                                    <div class="animal-name">‚ö†Ô∏è ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</div>
                                    <div class="info-section">
                                        <div class="info-label">üîç ‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:</div>
                                        <div class="info-text">${message}</div>
                                    </div>
                                    <div class="info-section">
                                        <div class="info-label">‚ùå ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:</div>
                                        <div class="info-text">‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</div>
                                    </div>
                                    <div class="info-section">
                                        <div class="info-label">üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</div>
                                        <div class="info-text">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏°‡∏î "‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå"</div>
                                    </div>
                                </div>
                            `);
              });
          });
        }
      }

      // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
      function sendMessage() {
        const input = document.getElementById("chatInput");
        const message = input.value.trim();

        if (message === "") return;

        // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
        addMessage(message, true);
        input.value = "";

        // ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏ö‡πà‡∏á‡∏ä‡∏µ‡πâ‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå
        showTypingIndicator();

        // ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
        const result = processMessage(message);

        if (result instanceof Promise) {
          // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö AJAX call
          result.then((response) => {
            hideTypingIndicator();
            addMessage(response);
          });
        } else {
          // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô
          setTimeout(() => {
            hideTypingIndicator();
            addMessage(result);
          }, 1200 + Math.random() * 800);
        }
      }

      // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
      function sendSuggestion(suggestion) {
        document.getElementById("chatInput").value = suggestion;
        sendMessage();
      }

      // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î
      function switchMode(mode) {
        currentMode = mode;

        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó UI
        document.querySelectorAll(".mode-btn").forEach((btn) => {
          btn.classList.remove("active");
        });
        document.querySelector(`[data-mode="${mode}"]`).classList.add("active");

        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó placeholder
        updatePlaceholder();

        // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î
        const modeText =
          mode === "info" ? "üìñ ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå" : "üîç ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô";
        const modeDescription =
          mode === "info"
            ? "‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô"
            : "‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£";

        addMessage(
          `‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô <strong>${modeText}</strong><br>${modeDescription}`
        );
      }

      // Event Listeners
      document
        .getElementById("sendButton")
        .addEventListener("click", sendMessage);

      document
        .getElementById("chatInput")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            e.preventDefault();
            sendMessage();
          }
        });

      // Event listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î
      document.querySelectorAll(".mode-btn").forEach((btn) => {
        btn.addEventListener("click", function () {
          switchMode(this.dataset.mode);
        });
      });

      // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
      updatePlaceholder();

      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏û‡∏¥‡πÄ‡∏®‡∏©
      setTimeout(() => {
        addMessage(`
                <strong>üí° ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:</strong><br>
                <strong>üìñ ‡πÇ‡∏´‡∏°‡∏î‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå:</strong> ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ<br>
                <strong>üîç ‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏õ‡πà‡∏≤‡∏™‡∏á‡∏ß‡∏ô:</strong> ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡∏î‡πâ‡∏ß‡∏¢ AJAX<br>
                ‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏´‡∏°‡∏î<br>
                ‚Ä¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå<br><br>
                <em>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï: ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2025</em>
            `);
      }, 1500);
    </script>
    <div w3-include-html="components/footer.html"></div>
    <script src="/javascript/script.js"></script>
    <script src="/javascript/slider.js"></script>
    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <script>
      w3.includeHTML();
    </script>
  </body>
</html>
